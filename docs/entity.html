<!doctype html>

<html lang="en">
	<head>
		<meta charset="utf-8">	
		<link rel="stylesheet" href="style.css">
		
		<title>ComsEngine - Entity</title>	
	</head>

	<body>
		<div class="wrapper">
			<iframe src="navigator.html" frameborder="0" scrolling="no"></iframe>
		</div>
	
		<div class="title">
			<p>Entity (core object)</p>
		</div>

		<div class="section">
			<div class="label shadow"><p>Entity <b>Entity.create</b>()</p></div>
			<div class="description">
				<p>
					Creates a new entity with no components, and returns a new entity instance to it.
				</p>
				<div class="code">
					<p>
						local entity = Entity.create()
					</p>
				</div>
			</div>
		</div>

		<div class="section">
			<div class="label shadow"><p><b>entity:add</b>(Component c, ... args)</p></div>
			<div class="description">
				<p>
					Creates and adds a component to the entity.<br>
					Type provided must by a component object.<br>
					<br>
					Entity instance must be valid, not destroyed, and must not already have the requested component.
				</p>
				<div class="code">
					<p>
						local entity = Entity.create()<br>
						<br>
						entity:add(Transform, Vec3(0, 0, 0))
					</p>
				</div>
			</div>
		</div>

		<div class="section">
			<div class="label shadow"><p>Component <b>entity:get</b>(Component c)</p></div>
			<div class="description">
				<p>
					Gets a component instance from the entity.<br>
					Type provided must by a component object.<br>
					<br>
					Entity instance must be valid, and must have the requested component.
				</p>
				<div class="code">
					<p>
						local entity = Entity.create()<br>
						local transform = entity:get(Transform)<br>
						<br>
						transform = entity:get(Transform)
					</p>
				</div>
			</div>
		</div>
		
		<div class="section">
			<div class="label shadow"><p>Bool <b>entity:has</b>(Component c)</p></div>
			<div class="description">
				<p>
					Checks if the entity has a component.<br>
					Type provided must by a component object.<br>
					<br>
					Entity instance must be valid.
				</p>
				<div class="code">
					<p>
						local entity = Entity.create()<br>
						<br>
						local has = entity:has(Transform)
					</p>
				</div>
			</div>
		</div>

		<div class="section">
			<div class="label shadow"><p><b>entity:destroy</b>()</p></div>
			<div class="description">
				<p>
					Destroys the entity instance.<br>
					The entity won't be de-referenced unless <span>entity:invalidate</span> is called after destruction, or gets garbage collected.<br>
					<span>entity:get</span> calls are still allowed as long as the entity is valid.<br>
					<br>
					Entity instance must be valid and not already destroyed.
				</p>
				<div class="code">
					<p>
						local entity = Entity.create()<br>
						<br>
						entity:destroy()
					</p>
				</div>
			</div>
		</div>

		<div class="section">
			<div class="label shadow"><p><b>entity:invalidate</b>()</p></div>
			<div class="description">
				<p>
					De-references the entity instance and makes it no longer associated with a valid entity ID (also called on garbage collection).<br>
					<span>entity:invalidate</span> does not destroy the entity, unless explicitly done before hand.<br>
					<br>
					Entity instance must be valid.
				</p>
				<div class="code">
					<p>
						local entity = Entity.create()<br>
						<br>
						entity:invalidate()
					</p>
				</div>
				<p>
					<span>entity:invalidate</span> can be called after <span>entity:destroy</span> to properly de-reference the entity instance.
				</p>
				<div class="code">
					<p>
						local entity = Entity.create()<br>
						<br>
						entity:destroy()<br>
						entity:invalidate()
					</p>
				</div>
			</div>
			
		</div>

		<div class="section">
			<div class="label shadow"><p>Int <b>entity:id</b>()</p></div>
			<div class="description">
				<p>
					Returns integer id of the entity, primarily for comparing two entity instances.<br>
					<br>
					Entity instance must be valid and not destroyed.
				</p>
				<div class="code">
					<p>
						local entity = Entity.create()<br>
						<br>
						local id = entity:id()
					</p>
				</div>
			</div>
		</div>

		<div class="section">
			<div class="label shadow"><p>Bool <b>entity:destroyed</b>()</p></div>
			<div class="description">
				<p>
					Returns if the entity has been destroyed from anywhere in the engine.<br>
					<br>
					Entity instance must be valid.
				</p>
				<div class="code">
					<p>
						local entity = Entity.create()<br>
						<br>
						local destroyed = entity:destroyed()
					</p>
				</div>
			</div>
		</div>

		<div class="section">
			<div class="label shadow"><p>Bool <b>entity:valid</b>()</p></div>
			<div class="description">
				<p>
						Returns if the entity instance is still valid.
				</p>
				<div class="code">
					<p>
						local entity = Entity.create()<br>
						<br>
						local valid = entity:valid()
					</p>
				</div>
			</div>
		</div>
	</body>
</html>