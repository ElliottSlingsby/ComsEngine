<!doctype html>

<html lang="en">
	<head>
		<meta charset="utf-8">	
		<link rel="stylesheet" href="style.css">
		
		<title>ComsEngine - Script</title>	
	</head>

	<body>
		<div class="wrapper">
			<iframe src="navigator.html" frameborder="0" scrolling="no"></iframe>
		</div>
	
		<div class="title">
			<p>Script (component object)</p>
		</div>

		<div class="section">
			<div class="label shadow"><p><b>entity:add</b>(Script c)</p></div>
			<div class="description">
				<p>
					Provides an interface to add, get, and remove script instances defined in Lua, to an entity.<br>
					<br>
					The <span>script</span> component has no construction arguments, but is required to create script instances.
				</p>
				<div class="code">
					<p>
						local entity = Entity.create()<br>
						<br>
						entity:add(Script)
					</p>
				</div>
			</div>
		</div>

		<div class="section">
			<div class="label shadow"><p><b>Script.register</b>(String type, String file)</p></div>
			<div class="description">
				<p>
					<span>Script.register</span> is a global function allowing script files to be registered for later creation in a script instance.<br>
					Scripts can be re-registered at any time and will also update the behaviour of existing script instances.
				</p>
				<div class="code">
					<p>
						Script.register("MyScript", "MyScript.lua")
					</p>
				</div>
			</div>
		</div>
		
		<div class="section">
			<div class="label shadow"><p><b>script:create</b>(String type)</p></div>
			<div class="description">
				<p>
					Creates a script instance from a previously registered script.<br>
					An entity's <span>script</span> component is allowed up to 8 script instances of any type.
				</p>
				<div class="code">
					<p>
						local entity = Entity.create()<br>
						entity:add(Script)<br>
						<br>
						entity:get(Script):create("MyScript")
					</p>
				</div>
			</div>
		</div>
		
		<div class="section">
			<div class="label shadow"><p><b>script:remove</b>(String type, Int number = 0)</p></div>
			<div class="description">
				<p>
					Destroys and removes a script instance from an entity's <span>script</span> component.<br>
					<br>
					The number argument specifies which instance to destroy when multiple exist.
				</p>
				<div class="code">
					<p>
						local entity = Entity.create()<br>
						entity:add(Script)<br>
						entity:get(Script):create("MyScript")<br>
						<br>
						entity:get(Script):remove("MyScript")
					</p>
				</div>
			</div>
		</div>

		<div class="section">
			<div class="label shadow"><p>Table <b>script:instance</b>(String type, Int number = 0)</p></div>
			<div class="description">
				<p>
					Returns a script instance table from an entity's <span>script</span> component.<br>
					<br>
					The number argument specifies which instance to return when multiple exist.
				</p>
				<div class="code">
					<p>
						local entity = Entity.create()<br>
						entity:add(Script)<br>
						entity:get(Script):create("MyScript")<br>
						<br>
						local table = entity:get(Script):instance("MyScript")<br>
						<br>
						table.member = 0
					</p>
				</div>
			</div>
		</div>
		
		<div class="section">
			<div class="label shadow"><p>Int <b>script:instances</b>(String type)</p></div>
			<div class="description">
				<p>
					Returns how many script instances of a type are attached to an entity's <span>script</span> component.
				</p>
				<div class="code">
					<p>
						local entity = Entity.create()<br>
						entity:add(Script)<br>
						entity:get(Script):create("MyScript")<br>
						<br>
						local number = entity:get(Script):instances("MyScript")
					</p>
				</div>
			</div>
		</div>
		
	</body>
</html>